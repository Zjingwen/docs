# React新的前端思维方式

[TOC]

## 什么是组件
* 能完成某个特定功能的独立的、可复用的代码

## 为什么要引入react
* 代码中就算并没有直接使用react，也一定要导入react，因为jsx最终会被转译成依赖于react的表达式

## JSX
* javasript的语法扩展，让html能在javascript中编写
* JSX中使用的“元素”不局限于html中的元素，可以是任何一个React组件
* 使React组件可以把javascript、html、css的功能集中在一个文件中

## 判断JSX中是HTML元素还是react组件
* 判断一个元素是html元素还是React组件的原则就是看到第一个字母是否大写

## onclick和onClick
onclick

* onclick添加的事件是在全局环境下执行，会污染全局环境
* 给很多dom元素添加onclick事件，可能会影响网页性能
* 如果要动态的从DOM树中删除DOM元素的话，需要把对应的事件处理器注销，假如忘记注销，就可能会造成内存泄漏

onClick

* onClick挂载的每个函数，都可以控制在组件范围内，不会污染全局
* 使用了事件委托，无论有多少个onClick出现，其实最后都只在DOM树上添加了一个事件处理函数，挂在最顶层的DOM节点上
* 所有的点击事件都被这个事件处理函数捕获，然后根据具体组件分配给特定函数，使用事件委托的性能当然要为每个onClick挂载一个事件处理函数要高
* React控制了组件的生命周期，在unmount的时候自然能清楚相关的所有事件处理函数

## React理念
* `UI=render(data)`用户看到的界面（UI），应该是一个函数（render）的执行结果，只接受数据（data）作为参数
* 响应式编程
* 基于组件来开发应用

## Virtual DOM
* 每次渲染都只重新渲染最少的DOM元素
* DOM是结构化文本的抽象表达形式
* Virtual DOM是对DOM树的抽象，不会触及浏览器的部分，只存在于javascript空间的树形结构，每次渲染，只会对比这一次产生的Virtual DOM和上一次渲染的Virtual DOM，对于发现差异，后然修改真正的DOM，只修改触及差异中的部分（只更新变化处，整个DOM不会全部重新渲染。）

## DOM树
* HTML中的每一个元素都对应DOM中的某一个节点，DOM节点浏览器为了渲染HTML格式的网页，优先将HTML文本解析以构建DOM树，然后根据DOM树渲染出用户看到的界面，改变界面内容时，就去改变DOM树上的节点

## 使用React的好处
* 避免构建负责的程序结构
* 利用函数式编程的思维来解决用户界面渲染的问题
* 提高开发者效率
* 代码可维护性和可阅读性增强
* 强制所有组件都按照数据驱动渲染，无论应用规模，都能保证程序处于可控范围

