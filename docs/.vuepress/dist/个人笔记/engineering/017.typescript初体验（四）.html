<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>017.typescript初体验（四） | 伪公知的生活常态</title>
    <meta name="description" content="就是随便写写而已">
    
    
    <link rel="preload" href="/docs-interview/assets/css/0.styles.5db48745.css" as="style"><link rel="preload" href="/docs-interview/assets/js/app.95d31192.js" as="script"><link rel="preload" href="/docs-interview/assets/js/2.387e38e1.js" as="script"><link rel="preload" href="/docs-interview/assets/js/32.723e67e2.js" as="script"><link rel="prefetch" href="/docs-interview/assets/js/10.3d791bab.js"><link rel="prefetch" href="/docs-interview/assets/js/100.26536cc9.js"><link rel="prefetch" href="/docs-interview/assets/js/101.ef604d61.js"><link rel="prefetch" href="/docs-interview/assets/js/102.7e3745f8.js"><link rel="prefetch" href="/docs-interview/assets/js/103.dd883182.js"><link rel="prefetch" href="/docs-interview/assets/js/104.79252216.js"><link rel="prefetch" href="/docs-interview/assets/js/105.c827c675.js"><link rel="prefetch" href="/docs-interview/assets/js/106.89a21ec7.js"><link rel="prefetch" href="/docs-interview/assets/js/107.0c04e9d8.js"><link rel="prefetch" href="/docs-interview/assets/js/108.d49a0e1d.js"><link rel="prefetch" href="/docs-interview/assets/js/109.8fa00ff0.js"><link rel="prefetch" href="/docs-interview/assets/js/11.e7b6e7fe.js"><link rel="prefetch" href="/docs-interview/assets/js/110.eb0cdcaa.js"><link rel="prefetch" href="/docs-interview/assets/js/111.5d84d049.js"><link rel="prefetch" href="/docs-interview/assets/js/112.026e50e0.js"><link rel="prefetch" href="/docs-interview/assets/js/113.4af81b4c.js"><link rel="prefetch" href="/docs-interview/assets/js/114.65b24c1f.js"><link rel="prefetch" href="/docs-interview/assets/js/115.ab03d442.js"><link rel="prefetch" href="/docs-interview/assets/js/116.4cabfb7a.js"><link rel="prefetch" href="/docs-interview/assets/js/117.b866a639.js"><link rel="prefetch" href="/docs-interview/assets/js/118.4e903d7a.js"><link rel="prefetch" href="/docs-interview/assets/js/119.6d8406b8.js"><link rel="prefetch" href="/docs-interview/assets/js/12.d872e8ea.js"><link rel="prefetch" href="/docs-interview/assets/js/120.10dbccf5.js"><link rel="prefetch" href="/docs-interview/assets/js/121.f62c4740.js"><link rel="prefetch" href="/docs-interview/assets/js/122.2e228b20.js"><link rel="prefetch" href="/docs-interview/assets/js/123.ee925db9.js"><link rel="prefetch" href="/docs-interview/assets/js/124.cbb6d23a.js"><link rel="prefetch" href="/docs-interview/assets/js/125.71f51813.js"><link rel="prefetch" href="/docs-interview/assets/js/126.8001dc97.js"><link rel="prefetch" href="/docs-interview/assets/js/127.0a8c3722.js"><link rel="prefetch" href="/docs-interview/assets/js/128.e12abd8a.js"><link rel="prefetch" href="/docs-interview/assets/js/129.522f352d.js"><link rel="prefetch" href="/docs-interview/assets/js/13.7b075aef.js"><link rel="prefetch" href="/docs-interview/assets/js/130.19f0c66a.js"><link rel="prefetch" href="/docs-interview/assets/js/131.f00f9466.js"><link rel="prefetch" href="/docs-interview/assets/js/132.4b0118bd.js"><link rel="prefetch" href="/docs-interview/assets/js/133.f3f8534a.js"><link rel="prefetch" href="/docs-interview/assets/js/134.65772645.js"><link rel="prefetch" href="/docs-interview/assets/js/135.c110e3ec.js"><link rel="prefetch" href="/docs-interview/assets/js/136.47679aee.js"><link rel="prefetch" href="/docs-interview/assets/js/137.3cb1e73e.js"><link rel="prefetch" href="/docs-interview/assets/js/138.83e86e9f.js"><link rel="prefetch" href="/docs-interview/assets/js/139.ac6b71e3.js"><link rel="prefetch" href="/docs-interview/assets/js/14.a4e38186.js"><link rel="prefetch" href="/docs-interview/assets/js/140.79b340d4.js"><link rel="prefetch" href="/docs-interview/assets/js/141.4b3c867a.js"><link rel="prefetch" href="/docs-interview/assets/js/142.be834fd0.js"><link rel="prefetch" href="/docs-interview/assets/js/143.b147bf79.js"><link rel="prefetch" href="/docs-interview/assets/js/144.0573c750.js"><link rel="prefetch" href="/docs-interview/assets/js/15.13b1d63f.js"><link rel="prefetch" href="/docs-interview/assets/js/16.d53c70f1.js"><link rel="prefetch" href="/docs-interview/assets/js/17.17b5fcbe.js"><link rel="prefetch" href="/docs-interview/assets/js/18.5589dd51.js"><link rel="prefetch" href="/docs-interview/assets/js/19.446dab5a.js"><link rel="prefetch" href="/docs-interview/assets/js/20.351088ff.js"><link rel="prefetch" href="/docs-interview/assets/js/21.dceec1d2.js"><link rel="prefetch" href="/docs-interview/assets/js/22.fa7f6c47.js"><link rel="prefetch" href="/docs-interview/assets/js/23.a2c2a19a.js"><link rel="prefetch" href="/docs-interview/assets/js/24.b5676ea3.js"><link rel="prefetch" href="/docs-interview/assets/js/25.eb9588a1.js"><link rel="prefetch" href="/docs-interview/assets/js/26.cf397d24.js"><link rel="prefetch" href="/docs-interview/assets/js/27.1da5c841.js"><link rel="prefetch" href="/docs-interview/assets/js/28.26285cb6.js"><link rel="prefetch" href="/docs-interview/assets/js/29.4d4a7d7f.js"><link rel="prefetch" href="/docs-interview/assets/js/3.e24aff58.js"><link rel="prefetch" href="/docs-interview/assets/js/30.21cc19bf.js"><link rel="prefetch" href="/docs-interview/assets/js/31.f1b289e2.js"><link rel="prefetch" href="/docs-interview/assets/js/33.02053b5b.js"><link rel="prefetch" href="/docs-interview/assets/js/34.5e62f8a4.js"><link rel="prefetch" href="/docs-interview/assets/js/35.63c58f1e.js"><link rel="prefetch" href="/docs-interview/assets/js/36.06f274ed.js"><link rel="prefetch" href="/docs-interview/assets/js/37.ea004859.js"><link rel="prefetch" href="/docs-interview/assets/js/38.d3d9c594.js"><link rel="prefetch" href="/docs-interview/assets/js/39.c5af91c3.js"><link rel="prefetch" href="/docs-interview/assets/js/4.e2e0255b.js"><link rel="prefetch" href="/docs-interview/assets/js/40.d48fe4bb.js"><link rel="prefetch" href="/docs-interview/assets/js/41.b2215e85.js"><link rel="prefetch" href="/docs-interview/assets/js/42.6ecc20b2.js"><link rel="prefetch" href="/docs-interview/assets/js/43.d48d7214.js"><link rel="prefetch" href="/docs-interview/assets/js/44.f56d3e66.js"><link rel="prefetch" href="/docs-interview/assets/js/45.7c5d2214.js"><link rel="prefetch" href="/docs-interview/assets/js/46.cad73163.js"><link rel="prefetch" href="/docs-interview/assets/js/47.3a25ff94.js"><link rel="prefetch" href="/docs-interview/assets/js/48.98d159e1.js"><link rel="prefetch" href="/docs-interview/assets/js/49.fe28623a.js"><link rel="prefetch" href="/docs-interview/assets/js/5.cd3fd4c9.js"><link rel="prefetch" href="/docs-interview/assets/js/50.f2d2864e.js"><link rel="prefetch" href="/docs-interview/assets/js/51.3e9ede3a.js"><link rel="prefetch" href="/docs-interview/assets/js/52.ca7b5f42.js"><link rel="prefetch" href="/docs-interview/assets/js/53.b47bf86d.js"><link rel="prefetch" href="/docs-interview/assets/js/54.6a2cbaf5.js"><link rel="prefetch" href="/docs-interview/assets/js/55.91582a90.js"><link rel="prefetch" href="/docs-interview/assets/js/56.f86be0ea.js"><link rel="prefetch" href="/docs-interview/assets/js/57.9736ae8a.js"><link rel="prefetch" href="/docs-interview/assets/js/58.6733876e.js"><link rel="prefetch" href="/docs-interview/assets/js/59.4427ecfe.js"><link rel="prefetch" href="/docs-interview/assets/js/6.0d618875.js"><link rel="prefetch" href="/docs-interview/assets/js/60.b550f66b.js"><link rel="prefetch" href="/docs-interview/assets/js/61.ee9258ec.js"><link rel="prefetch" href="/docs-interview/assets/js/62.db3c66c4.js"><link rel="prefetch" href="/docs-interview/assets/js/63.d2fd7240.js"><link rel="prefetch" href="/docs-interview/assets/js/64.258b5a42.js"><link rel="prefetch" href="/docs-interview/assets/js/65.bb395bbf.js"><link rel="prefetch" href="/docs-interview/assets/js/66.bd6896bd.js"><link rel="prefetch" href="/docs-interview/assets/js/67.37657eee.js"><link rel="prefetch" href="/docs-interview/assets/js/68.d823ca9e.js"><link rel="prefetch" href="/docs-interview/assets/js/69.0f13b4d0.js"><link rel="prefetch" href="/docs-interview/assets/js/7.2302c4c8.js"><link rel="prefetch" href="/docs-interview/assets/js/70.2c1ecb69.js"><link rel="prefetch" href="/docs-interview/assets/js/71.6aee0b5d.js"><link rel="prefetch" href="/docs-interview/assets/js/72.9804d57b.js"><link rel="prefetch" href="/docs-interview/assets/js/73.a362afdf.js"><link rel="prefetch" href="/docs-interview/assets/js/74.00b3e003.js"><link rel="prefetch" href="/docs-interview/assets/js/75.3ba2741c.js"><link rel="prefetch" href="/docs-interview/assets/js/76.b155e834.js"><link rel="prefetch" href="/docs-interview/assets/js/77.c0806518.js"><link rel="prefetch" href="/docs-interview/assets/js/78.f145e4e5.js"><link rel="prefetch" href="/docs-interview/assets/js/79.b18eb052.js"><link rel="prefetch" href="/docs-interview/assets/js/8.01ef5034.js"><link rel="prefetch" href="/docs-interview/assets/js/80.166faa3b.js"><link rel="prefetch" href="/docs-interview/assets/js/81.a8e13dd1.js"><link rel="prefetch" href="/docs-interview/assets/js/82.bc659265.js"><link rel="prefetch" href="/docs-interview/assets/js/83.d4d2767e.js"><link rel="prefetch" href="/docs-interview/assets/js/84.e59df14e.js"><link rel="prefetch" href="/docs-interview/assets/js/85.60f7cc9e.js"><link rel="prefetch" href="/docs-interview/assets/js/86.02c79022.js"><link rel="prefetch" href="/docs-interview/assets/js/87.cd092a77.js"><link rel="prefetch" href="/docs-interview/assets/js/88.ce7120fa.js"><link rel="prefetch" href="/docs-interview/assets/js/89.eca17faa.js"><link rel="prefetch" href="/docs-interview/assets/js/9.062415ef.js"><link rel="prefetch" href="/docs-interview/assets/js/90.81085990.js"><link rel="prefetch" href="/docs-interview/assets/js/91.1dc2aee4.js"><link rel="prefetch" href="/docs-interview/assets/js/92.229f99c0.js"><link rel="prefetch" href="/docs-interview/assets/js/93.b4169369.js"><link rel="prefetch" href="/docs-interview/assets/js/94.fdf0a2cb.js"><link rel="prefetch" href="/docs-interview/assets/js/95.2fb1a9f0.js"><link rel="prefetch" href="/docs-interview/assets/js/96.2d63b1cb.js"><link rel="prefetch" href="/docs-interview/assets/js/97.efed770d.js"><link rel="prefetch" href="/docs-interview/assets/js/98.c6c86090.js"><link rel="prefetch" href="/docs-interview/assets/js/99.c0733e0b.js">
    <link rel="stylesheet" href="/docs-interview/assets/css/0.styles.5db48745.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs-interview/" class="home-link router-link-active"><!----> <span class="site-name">伪公知的生活常态</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/docs-interview/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/" class="sidebar-link">个人笔记</a></li><li><a href="/docs-interview/%E6%94%B6%E8%97%8F%E7%AC%94%E8%AE%B0/" class="sidebar-link">收藏笔记</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_017-typescript初体验（四）"><a href="#_017-typescript初体验（四）" aria-hidden="true" class="header-anchor">#</a> 017.typescript初体验（四）</h1> <h2 id="函数"><a href="#函数" aria-hidden="true" class="header-anchor">#</a> 函数</h2> <h3 id="函数的参数类型"><a href="#函数的参数类型" aria-hidden="true" class="header-anchor">#</a> 函数的参数类型</h3> <p>确定参数类型的格式是<code>(参数名: 参数类型): 返回类型</code>。</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token function-variable function">myAdd</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">number</span> <span class="token punctuation">{</span><span class="token keyword">return</span> x<span class="token operator">+</span>y<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="完整函数类型"><a href="#完整函数类型" aria-hidden="true" class="header-anchor">#</a> 完整函数类型</h3> <p>包含两部分，参数类型 =&gt; 返回值类型 = 函数。
参数类型主要使用参数列表的形式书写，为每个参数制定一个名与类型。
<code>let 变量: (参数名: 参数类型) =&gt; 返回类型 = function(参数名: 参数类型...): 返回类型 { 函数体 }</code></p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">let</span> <span class="token function-variable function">myAdd</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">myAdd</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">baseValue<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> increment<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="推断类型"><a href="#推断类型" aria-hidden="true" class="header-anchor">#</a> 推断类型</h3> <p>写完整函数类型时，如果返回类型的函数没有书写参数类型的话，那么参数会按照参数类型来识别。
但是参数类型没有写的话，不能使用返回函数的类型。</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 正确例子</span>
<span class="token keyword">let</span> <span class="token function-variable function">myAdd</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">baseValue<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> increment<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 错误例子</span>
<span class="token keyword">let</span> <span class="token function-variable function">myAdd</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">baseValue<span class="token punctuation">,</span> increment</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>y<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token operator">+</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="可选参数"><a href="#可选参数" aria-hidden="true" class="header-anchor">#</a> 可选参数</h3> <p>在typescript中，一般情况下函数的参数是固定的，必须使用而且赋值。但是在参数名加上'?'问号关键字，就可以表示，某个参数是可选的。</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 正确</span>
<span class="token keyword">function</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lastName<span class="token operator">?</span><span class="token punctuation">:</span><span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>lastName<span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> firstName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 错误</span>
<span class="token keyword">function</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span><span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>lastName<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> firstName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="默认参数"><a href="#默认参数" aria-hidden="true" class="header-anchor">#</a> 默认参数</h3> <p>参数可以提供一个默认值当使用者没有传递这个参数或者传递的是undefined时，就使用默认值。</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> <span class="token function">buildName</span><span class="token punctuation">(</span>firstName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'Smith'</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> lastName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="剩余参数"><a href="#剩余参数" aria-hidden="true" class="header-anchor">#</a> 剩余参数</h3> <p>当你不知道传入的参数会有多少个时，就可以使用剩余参数，来同时操作多个参数。
剩余参数可以一个没有，也可以是一个集合。</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> <span class="token function">buildName</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">:</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>restOfName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> restOfName<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">buildName</span><span class="token punctuation">(</span><span class="token string">&quot;Joseph&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Samuel&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lucas&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Mackinzie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="重载"><a href="#重载" aria-hidden="true" class="header-anchor">#</a> 重载</h3> <p>根据传入不同的参数，而返回不同类型的数据。
重载的函数会在调用时，进行类型检查。
在重载开始时，typescript会匹配第一个重载列表，所以为了节约性能，请把匹配度最高的重载定义放在第一位。</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> <span class="token function">hasType</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">hasType</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">hasType</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">==</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">==</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">hasType</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">hasType</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">hasType</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 报错</span>
</code></pre></div><h3 id="用接口定义函数类型"><a href="#用接口定义函数类型" aria-hidden="true" class="header-anchor">#</a> 用接口定义函数类型</h3> <p>我们可以使用接口的方式，来定义一个函数的参数以及返回</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">interface</span> <span class="token class-name">SearchFunc</span><span class="token punctuation">{</span>
   <span class="token punctuation">(</span>source<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> subString<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> search<span class="token punctuation">:</span> SearchFunc<span class="token punctuation">;</span>
<span class="token function-variable function">search</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> subString<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>subString<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="参数解构"><a href="#参数解构" aria-hidden="true" class="header-anchor">#</a> 参数解构</h3> <p>我们来解读一下<code>function f({x:number})</code>，方法f参数是一个对象，对象有个参数x，类型是number。在typescript中，参数声明，只能是<code>(参数: 参数类型)</code>的形式。这是完全不符合。正确形式应该是<code>function f({x}:{x:number})</code></p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>x<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span> <span class="token parameter"><span class="token punctuation">{</span>x<span class="token punctuation">}</span><span class="token punctuation">:</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">}</span></span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="泛型"><a href="#泛型" aria-hidden="true" class="header-anchor">#</a> 泛型</h2> <h3 id="定义泛型变量"><a href="#定义泛型变量" aria-hidden="true" class="header-anchor">#</a> 定义泛型变量</h3> <p>使传入的类型与返回的类型保持一直
一种特殊的变量，只用于表示类型而不是值
格式:<code>function 方法名&lt;类型变量名&gt;(参数名: 类型变量名): 类型变量名 { 函数体 }</code></p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 这里类型变量为T，参数类型为T，返回类型为T</span>
<span class="token comment">// 参数和返回类型，都是T。也就是参数类型和返回类型必须保持一直</span>
<span class="token keyword">function</span> identity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg: T): T </span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">
// 定义泛型之后的使用 函数名 &lt;类型变量值&gt;( 参数 )
console.log(identity</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">('string'));
console.log(identity</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(123));
console.log(identity</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolean</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">('string')) // 报错，泛型变量与参数不一致
</span></code></pre></div><h3 id="泛型变量使用"><a href="#泛型变量使用" aria-hidden="true" class="header-anchor">#</a> 泛型变量使用</h3> <p>虽然我们可以使用类型变量表示任意类型，但是number是没有array的属性
如果是array的话我们还需要特殊标明</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> loggingIdentity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg: T[]): T[] </span><span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">;
console.log(loggingIdentity([1,2,3,4]))
console.log(loggingIdentity(1))// 报错

// 另一种声明方法
function loggingIdentity</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg: Array</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">): Array</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> </span><span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">
</span></code></pre></div><h3 id="泛型类型函数"><a href="#泛型类型函数" aria-hidden="true" class="header-anchor">#</a> 泛型类型函数</h3> <p>定义泛型函数类型格式：</p> <div class="language- extra-class"><pre class="language-text"><code>function 方法名&lt;类型变量名&gt;(参数名: 类型变量名): 类型变量名 { 函数体 }
let 变量名: &lt;类型变量名&gt;(参数名: 类型变量名) =&gt; 返回变量名 = { 函数体 }
</code></pre></div><div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> identity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg: T): T</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">
let myIdentity: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg:T) =&gt; T = identity;
</span></code></pre></div><p>也可以使用不同的类型变量名，只要数量和使用方法一致即可</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> identity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg: T): T</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">
let myIdentity: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">U</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg:U) =&gt; U = identity;
</span></code></pre></div><p>使用带有调用签名的对象字面量来定义泛型</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> identity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg:T): T </span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">
let myIdentity: </span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg: T):T} = identity;
</span></code></pre></div><p>为常见的函数添加泛型</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> reverse<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(items: T[]): T[]</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> items<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">
</span></code></pre></div><h3 id="泛型接口"><a href="#泛型接口" aria-hidden="true" class="header-anchor">#</a> 泛型接口</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">interface</span> <span class="token class-name">GenericIdentityFn</span><span class="token punctuation">{</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg: T):T;
};

function identity</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg: T): T</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">
let myIdentity: GenericIdentityFn = identity;
</span></code></pre></div><h3 id="泛型类"><a href="#泛型类" aria-hidden="true" class="header-anchor">#</a> 泛型类</h3> <p>使用&lt;&gt;括起泛型，跟在类名后面</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">class</span> <span class="token class-name">GenericNumber</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>
  zeroValue<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
  <span class="token function-variable function">add</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">,</span>y<span class="token punctuation">:</span><span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">
let myGenerciNumber = new GenericNumber</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">();
myGenerciNumber.zeroValue = 0;
myGenerciNumber.add = function(x,y)</span><span class="token punctuation">{</span><span class="token keyword">return</span> x<span class="token operator">+</span>y<span class="token punctuation">}</span><span class="token plain-text">;
</span></code></pre></div><h3 id="泛型约束"><a href="#泛型约束" aria-hidden="true" class="header-anchor">#</a> 泛型约束</h3> <p>用类型变量去继承接口，这样可以做到泛型的一种约束作用</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">interface</span> <span class="token class-name">LengthWise</span> <span class="token punctuation">{</span>
	length<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> loggingIdentity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span> <span class="token attr-name">extends</span> <span class="token attr-name">LengthWise</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(arg: T): T</span><span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">
loggingIdentity([1,2,3,4]);
loggingIdentity(3);// 报错
</span></code></pre></div><p>在泛型中使用类型参数</p> <div class="language- extra-class"><pre class="language-text"><code>function getProperty &lt;T,K&gt; (obj: T, key: K){
	return obj[key];
}
let x = {a:1,b:2,c:3,d:4};
getProperty(x,'a');
getProperty(x,'m');// 报错
</code></pre></div><h3 id="错误使用"><a href="#错误使用" aria-hidden="true" class="header-anchor">#</a> 错误使用</h3> <p>这个例中，泛型之中用于参数，完全可以用any替代</p> <p><code>function foo&lt;T&gt;(arg: T):void{};</code></p> <p><code>function foo(arg:any):void{};</code></p> <h2 id="枚举"><a href="#枚举" aria-hidden="true" class="header-anchor">#</a> 枚举</h2> <p>定义一些带名字的常量。清晰的表达意图或创建一组有区别的用例</p> <p>如何定义枚举</p> <div class="language- extra-class"><pre class="language-text"><code>enum 枚举名{
	枚举成员 = 初始化器(可缺省)
}
</code></pre></div><h3 id="数字枚举"><a href="#数字枚举" aria-hidden="true" class="header-anchor">#</a> 数字枚举</h3> <p>当枚举成员第一项的初始值为1，其余成员会从1开始自增</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">enum</span> Direction<span class="token punctuation">{</span>
  Up<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
  Down<span class="token punctuation">,</span>
  Left<span class="token punctuation">,</span>
  Right
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span>Up<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 1</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span>Down<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span>Left<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 3</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span>Right<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
</code></pre></div><p>当枚举成员第一项的未初始化时，第一项默认为0，其余成员从0开始自增</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">enum</span> Direction<span class="token punctuation">{</span>
	Up<span class="token punctuation">,</span>
	Down<span class="token punctuation">,</span>
	Left<span class="token punctuation">,</span>
	Right
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span>Up<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 0</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span>Down<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span>Left<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Direction<span class="token punctuation">.</span>Right<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre></div><p>枚举的使用，用<code>枚举名.成员名</code>，<code>枚举名['成员名']</code>，用枚举名来作为类型</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">enum</span> Responses <span class="token punctuation">{</span>
  No <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  Yes <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">respond</span><span class="token punctuation">(</span><span class="token parameter">recipient<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> Responses</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>recipient<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">respond</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> Responses<span class="token punctuation">.</span>Yes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">respond</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> Responses<span class="token punctuation">[</span><span class="token string">'Yes'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>枚举成员第一项是由函数or常量初始化，其余成员未初始化时，会报异常
处理方案：初始化其余成员，将第一项移动至其他项</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">function</span> <span class="token function">getSomeValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token builtin">number</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">I</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">// 错误</span>
<span class="token keyword">enum</span> <span class="token constant">E1</span><span class="token punctuation">{</span>
  <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">getSomeValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token constant">B</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// 正确</span>
<span class="token keyword">enum</span> <span class="token constant">E2</span><span class="token punctuation">{</span>
  <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">getSomeValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token constant">B</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// 错误</span>
<span class="token keyword">enum</span> <span class="token constant">E3</span><span class="token punctuation">{</span>
  <span class="token constant">A</span> <span class="token operator">=</span> <span class="token constant">I</span><span class="token punctuation">,</span>
  <span class="token constant">B</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// 正确</span>
<span class="token keyword">enum</span> <span class="token constant">E4</span><span class="token punctuation">{</span>
  <span class="token constant">B</span><span class="token punctuation">,</span>
  <span class="token constant">A</span> <span class="token operator">=</span> <span class="token constant">I</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="字符串枚举"><a href="#字符串枚举" aria-hidden="true" class="header-anchor">#</a> 字符串枚举</h3> <p>每个成员都必须是字符串字面量
用另一个字符串枚举成员来初始化</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">enum</span> Direction<span class="token punctuation">{</span>
	Up <span class="token operator">=</span> <span class="token string">&quot;UP&quot;</span><span class="token punctuation">,</span>
	Down <span class="token operator">=</span> <span class="token string">&quot;DOWN&quot;</span><span class="token punctuation">,</span>
	Left <span class="token operator">=</span> <span class="token string">&quot;LEFT&quot;</span><span class="token punctuation">,</span>
	Right <span class="token operator">=</span> <span class="token string">&quot;RIGHT&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="异构字符串"><a href="#异构字符串" aria-hidden="true" class="header-anchor">#</a> 异构字符串</h3> <p>混合字符串和数字成员</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">enum</span> enums <span class="token punctuation">{</span>
	No <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
	Yes <span class="token operator">=</span> <span class="token string">&quot;YES&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="计算和常量成员"><a href="#计算和常量成员" aria-hidden="true" class="header-anchor">#</a> 计算和常量成员</h3> <p>常量成员，由常量初始化赋值或没有赋值枚举</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">enum</span> <span class="token constant">E</span> <span class="token punctuation">{</span>
	<span class="token constant">X</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> <span class="token constant">E1</span><span class="token punctuation">{</span>
	<span class="token constant">X</span><span class="token punctuation">,</span>
	<span class="token constant">Y</span><span class="token punctuation">,</span>
	<span class="token constant">Z</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> <span class="token constant">E2</span><span class="token punctuation">{</span>
	<span class="token constant">A</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token constant">B</span><span class="token punctuation">,</span>
	<span class="token constant">C</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>计算成员，由运算符、函数等初始化赋值</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">enum</span> <span class="token constant">J</span><span class="token punctuation">{</span>
	<span class="token constant">A</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token constant">B</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token constant">C</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="反向映射"><a href="#反向映射" aria-hidden="true" class="header-anchor">#</a> 反向映射</h3> <p>数字枚举成员，拥有从枚举值反推枚举名的方式</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">enum</span> Enum<span class="token punctuation">{</span>
	<span class="token constant">A</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> Enum<span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> nameOfA <span class="token operator">=</span> Enum<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nameOfA<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="参考"><a href="#参考" aria-hidden="true" class="header-anchor">#</a> 参考</h2> <p><a href="https://ts.xcatliu.com/" target="_blank" rel="noopener noreferrer">https://ts.xcatliu.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>https://jkchao.github.io/typescript-book-chinese/</p> <p>[https://www.tslang.cn](</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs-interview/assets/js/app.95d31192.js" defer></script><script src="/docs-interview/assets/js/2.387e38e1.js" defer></script><script src="/docs-interview/assets/js/32.723e67e2.js" defer></script>
  </body>
</html>
