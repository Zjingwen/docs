(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{315:function(t,s,a){"use strict";a.r(s);var n=a(38),r=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"typescript初体验（-一-）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typescript初体验（-一-）","aria-hidden":"true"}},[t._v("#")]),t._v(" typescript初体验（ 一 ）")]),t._v(" "),a("h2",{attrs:{id:"初衷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初衷","aria-hidden":"true"}},[t._v("#")]),t._v(" 初衷")]),t._v(" "),a("blockquote",[a("p",[t._v("十多年前，Java的繁琐让很多人仇恨类型系统，\n他们改用Python、Ruby等动态类型语言，\n这使我们能够快速而松散地完成工作。\n经过大约十年的热血编程，我们最终发现，动态语言编写的巨大单体项目是非常脆弱的。")])]),t._v(" "),a("p",[t._v("好吧不知道多少次被小伙伴安利过typeScript了，一直感觉这无非是ESMAscript的超集而已，还不着急，可是当项目线逐渐膨胀，我感觉到了脆弱无力。主要无力是两点，一、设计模型的脆弱。二、参数类型的混乱。设计模型是内功需要长时间的修为，还好参数类型的混乱我能用过工具方法阻止。")]),t._v(" "),a("h2",{attrs:{id:"安装简单的学习环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装简单的学习环境","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装简单的学习环境")]),t._v(" "),a("p",[t._v("首先我需要安装最简单的测试环境，让我可以测试所有typeScript的所有语法。")]),t._v(" "),a("h3",{attrs:{id:"目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 目录结构")]),t._v(" "),a("div",{staticClass:"language-TEXT extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("typescript-demo\n|----- config             // 脚本文件\n        |----- watch.js   // 监听变化执行tsc命令\n|----- src                // 产出目录\n        |----- js         // build的js文件集合\n        |----- index.html // 主index.html文件\n|----- ts                 // ts文件集合\n|----- package.json\n|----- tsconfig.json\n")])])]),a("h3",{attrs:{id:"涉及的npm包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#涉及的npm包","aria-hidden":"true"}},[t._v("#")]),t._v(" 涉及的npm包")]),t._v(" "),a("div",{staticClass:"language-JSON extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"chokidar"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"concurrently"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.1.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"live-server"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^1.2.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"shelljs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^0.8.3"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"涉及的指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#涉及的指令","aria-hidden":"true"}},[t._v("#")]),t._v(" 涉及的指令")]),t._v(" "),a("div",{staticClass:"language-JSON extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"concurrently \\"npm run server\\" \\"npm run watch\\""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"server"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"live-server ./src --port=8080"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tsc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"watch"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node ./config/watch.js"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"为什么要这样折腾webpack不是就可以用吗？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要这样折腾webpack不是就可以用吗？","aria-hidden":"true"}},[t._v("#")]),t._v(" 为什么要这样折腾webpack不是就可以用吗？")]),t._v(" "),a("p",[t._v("首先，我需要的是基本0配置的环境，我不想过多折腾环境，我要是的学习。如果我用webpack的话，我可能要配置各种devServer、loader、entry、output等等。可是我的需求只是，开个服务器，监听文件变化，build ts，然后就木了，所以我选择了5个包。")]),t._v(" "),a("ul",[a("li",[t._v("chokidar 监听文件变化")]),t._v(" "),a("li",[t._v("concurrently 同时执行多个命令")]),t._v(" "),a("li",[t._v("live-server 简易服务器")]),t._v(" "),a("li",[t._v("shelljs 执行shell命令")])]),t._v(" "),a("p",[t._v("好吧，我的需求是不是就达到了。然后我只要组合一下就行了。")]),t._v(" "),a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// watch.js 文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" glob "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'glob'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" shell "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'shelljs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" chokidar "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chokidar'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" watcher "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" chokidar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  persistent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 执行命令")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("command")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" shell"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("exec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'npm run ts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听回调用")]),t._v("\nwatcher\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'change'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unlink'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"组合package-script"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组合package-script","aria-hidden":"true"}},[t._v("#")]),t._v(" 组合package script")]),t._v(" "),a("p",[t._v("我写了4个script，分别是start、watch、ts、server")]),t._v(" "),a("ul",[a("li",[t._v("start   组合watch和server")]),t._v(" "),a("li",[t._v("watch   监听文件变化")]),t._v(" "),a("li",[t._v("ts      build typeScript")]),t._v(" "),a("li",[t._v("server  启动服务器")])]),t._v(" "),a("p",[t._v("当我需要学习的时候，我只要执行一下start就可以了。对了我没有加入自动刷新，为啥呢？因为我觉得学习的话，自动刷新反而会让我忽略一些细节。还有一个问题就是，这里会全部build所有ts文件，这我倒是感觉没啥问题，毕竟小demo能有几行代码，性能问题就不想了。")]),t._v(" "),a("h2",{attrs:{id:"提醒"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#提醒","aria-hidden":"true"}},[t._v("#")]),t._v(" 提醒")]),t._v(" "),a("ul",[a("li",[t._v("记得全局安装一下typescript哟")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g typescript\n")])])]),a("ul",[a("li",[t._v("我所用到的npm版本以及node版本")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"node": ">=8.9.1",\n"npm": ">=6.1.0"\n')])])]),a("h2",{attrs:{id:"结尾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#结尾","aria-hidden":"true"}},[t._v("#")]),t._v(" 结尾")]),t._v(" "),a("p",[t._v("好吧，我用了大概10多分钟，搭建起了这一套简单易用可扩展的测试环境，并且写了两个demo，然后我就可以愉快的学习了。有时候吧，什么需求选择什么构架，慢慢迭代，不用操之过急。")]),t._v(" "),a("p",[t._v("献上github欢迎clone："),a("a",{attrs:{href:"https://github.com/Zjingwen/typescript-demo",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/Zjingwen/typescript-demo"),a("OutboundLink")],1)])])},[],!1,null,null,null);s.default=r.exports}}]);